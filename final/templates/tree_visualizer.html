<!DOCTYPE html>
<html>
<head>
    <title>Binary Tree Visualization</title>
    <script src="https://d3js.org/d3.v6.min.js"></script>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='styles.css') }}">
    <link href="https://fonts.googleapis.com/css?family=Press+Start+2P" rel="stylesheet">


</head>
<!-- ... -->

<body>
    <div class="bst-text">Binary Search Tree (BST)</div>
    <div class="center backGround" id = "blue-div">
        {% block content %}
        {% macro render_node(node, top, left, level, distance) %}
            <div class="node" style="top: {{ top }}px; left: {{ left }}px;">
                {{ node.value }}
            </div>
            {% if distance == 300 %}
                {% set distance = 500 %}
            {% endif %}
            {% set next_distance = distance - 70 %}

            {% if node.left %}
                {% if next_distance == 430 %}
                    {% set next_distance = 300-120 %}
                {% endif %}
                {% set child_top = top + 100 %}
                {% set child_left = left - distance %}
                {{ render_node(node.left, child_top, child_left, level + 1, next_distance) }}
                <div class="southwest-arrow" style= "top: {{ top + 30 }}px; left: {{ left - 10 }}px; "></div>
            {% endif %}
            
            {% if node.right %}
                {% if next_distance == 430 %}
                    {% set next_distance = 300-120 %}
                {% endif %}
                {% set child_top = top + 100 %}
                {% set child_left = left + distance %}
                {{ render_node(node.right, child_top, child_left, level + 1, next_distance) }}
                <div class="southeast-arrow" style="top: {{ top + 30 }}px; left: {{ left + 30 }}px;"></div>
                {% endif %}
        {% endmacro %}

        {% set root_top = 60 %}
        {% set root_left = 250 %}
        {% set initial_distance = 300 %}
        {{ render_node(bst.root, root_top, root_left, 0, initial_distance) }}
        {% endblock %}
    </div>

    <div id ="white-div">

    </div>
</body>
<!-- ... -->

</html>
